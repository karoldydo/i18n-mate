# 9.2 Create Telemetry Event

**Endpoint:** `POST /rest/v1/telemetry_events`  
**Description:** Create telemetry event (internal use, called by Edge Functions)  
**Authentication:** Required (service_role preferred)

**Request Body:**

```json
{
  "event_name": "translation_completed",
  "project_id": "uuid",
  "properties": {
    "completed_keys": 98,
    "mode": "all",
    "target_locale": "pl"
  }
}
```

**Success Response (201 Created):**

```json
{
  "created_at": "2025-01-15T10:20:00Z",
  "id": "uuid"
}
```

**Error Responses:**

**400 Bad Request:**

```json
{
  "data": null,
  "error": {
    "code": 400,
    "details": {
      "constraint": "enum",
      "field": "event_name"
    },
    "message": "Invalid event name. Must be one of the allowed telemetry events"
  }
}
```

**401 Unauthorized:**

```json
{
  "data": null,
  "error": {
    "code": 401,
    "message": "Authentication required"
  }
}
```

**403 Forbidden:**

```json
{
  "data": null,
  "error": {
    "code": 403,
    "message": "Not owner or service_role"
  }
}
```

**Event Types:**

- `project_created` - Properties: `{ locale_count: 1 }`
- `language_added` - Properties: `{ locale: "pl", locale_count: 2 }`
- `key_created` - Properties: `{ full_key: "app.home.title", key_count: 50 }`
- `translation_completed` - Properties: `{ mode: "all", target_locale: "pl", completed_keys: 98, failed_keys: 2 }`
